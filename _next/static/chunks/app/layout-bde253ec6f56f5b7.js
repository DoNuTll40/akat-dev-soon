(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},5521:(t,e,a)=>{Promise.resolve().then(a.t.bind(a,347,23)),Promise.resolve().then(a.bind(a,5739))},5739:(t,e,a)=>{"use strict";a.d(e,{A:()=>u,GpsContextProvider:()=>i});var n=a(5155),s=a(2115);let o=(0,s.createContext)(),r=(t,e,a,n)=>{let s=t=>t*Math.PI/180,o=s(a-t),r=s(n-e),l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(s(t))*Math.cos(s(a))*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*6371e3},l=[{id:1,name:"โรงพยาบาลอากาศอำนวย",lat:17.598248230864677,lon:103.97421612776841,radius:140},{id:2,name:"บ้านทอฝัน อากาศอำนวย",lat:17.595159969402665,lon:103.97170746966886,radius:40},{id:3,name:"พื้นที่พิเศษ",lat:17.6017161,lon:103.9731508,radius:250},{id:4,name:"พื้นที่พิเศษ สำหรับคอมพิวเตอร์ตั้งโต๊ะ",lat:17.604722,lon:103.9731508,radius:250}];function i(t){let{children:e}=t,[a,i]=(0,s.useState)(null),[u,c]=(0,s.useState)(null),[d,h]=(0,s.useState)(!0),[m,g]=(0,s.useState)({status:"error",name:"คุณอยู่นอกพื้นที่"});return(0,s.useEffect)(()=>{if(!navigator.geolocation){c("เบราว์เซอร์ของคุณไม่รองรับ GPS"),h(!1);return}let t=navigator.geolocation.watchPosition(t=>{h(!1),c(null);let e={lat:t.coords.latitude,lon:t.coords.longitude};i(e);let a=l.find(t=>r(e.lat,e.lon,t.lat,t.lon)<=t.radius);a?g({status:"success",name:"คุณอยู่ใน ".concat(a.name)}):g({status:"error",name:"คุณอยู่นอกพื้นที่"})},t=>{h(!1),c("ข้อผิดพลาด : ".concat(t.message))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0});return()=>navigator.geolocation.clearWatch(t)},[]),(0,n.jsx)(o.Provider,{value:{currentPosition:a,error:u,loading:d,locationStatus:m},children:e})}let u=o}},t=>{var e=e=>t(t.s=e);t.O(0,[690,441,684,358],()=>e(5521)),_N_E=t.O()}]);